<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://use.fontawesome.com/abc2a70698.css" media="all" rel="stylesheet">
    <script src="https://use.fontawesome.com/abc2a70698.js" type="ffa571059f820743561f0720-text/javascript"></script>
    <style>
        .counter-btn {
            background-color: #0076ff;
            width: 130px;
            height: 130px;
            margin: auto;
            border-radius: 100px 100px 100px 100px;
            -moz-border-radius: 100px;
            -webkit-border-radius: 100px 100px 100px 100px;
            border: 0 solid #000;
            color: white;
            font-size: 24px;
            display: flex;
            align-content: center;
            align-items: center;
            flex-direction: column;
            flex-wrap: wrap;
            justify-content: center;
        }

        .v-c {
            vertical-align: middle !important;
        }

        .counter-btn:active {
            background-color: #0076ff;
            opacity: .7;
        }

        .counter-text {
            font-size: 24px;
            vertical-align: middle !important;
        }

        .clear-counter {
            padding: 1px;
            padding: 1px;
            position: absolute;
            right: 4px;
        }
    </style>
</head>


<body>

    <div class="content top-home m-3 text-center" style="direction: rtl;">

        <button class="btn btn-danger btn-sm mb-2"
            onclick="clearCounters()" style="font-size: 12px;"
            type="button">تصفير العدادات </button>

        <div id="section-counters" class="row">
            <!-- code injected here -->
            <div class="col-md-4 col-xs-6" style="
            border: 2px solid #3579f5;
            ">
                <h1 style="
                        padding: 50px 0px;
                        margin-block-start: 0rem;
                        margin-block-end: 0rem;
                        border-bottom: 2px solid #6e6e6e;
                        display: flex;
                        background-color: #f7f7f7;
                        align-items: center;
                        justify-content: center;
                        border-color: #000;
                    ">الحمد لله</h1>
                <div>
                    <button type="button" onclick="resetCounter()" style="
                                position: absolute;
                                left: 500px;
                                text: bolder;
                                color: #fff;
                                display: flex;
                                align-items: center;
                                background-color: #ca444a;
                                padding: 20px 20px;
                                border-radius: 20%;
                                margin-top: 10px;
                        ">
                        <i class="fa fa-repeat fa-flip-horizontal" aria-hidden="true"
                           style="
                           font-size: 16px;
                           color: #ffffff;
                        "></i>
                    </button>
                </div>
                <div style="
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        margin: 20px">
                    <button type="button" onclick="incrementClick(n)" style="
                        position: center;
                        padding: 60px;
                        color: #fff;
                        background-color: #0a6ed5;
                        border-radius: 50%;"
                            id="counter-label01"><script>localStorage.getItem(n)</script>0</button>
                </div>
            </div>
            <div class="col-md-4 col-xs-6" style="
            border: 2px solid #3579f5;
            ">
                <h1 style="
                        padding: 50px 0px;
                        margin-block-start: 0rem;
                        margin-block-end: 0rem;
                        border-bottom: 2px solid #6e6e6e;
                        display: flex;
                        background-color: #f7f7f7;
                        align-items: center;
                        justify-content: center;
                        border-color: #000;
                    ">سبحان الله</h1>
                <div>
                    <button type="button" onclick="resetCounter()" style="
                                position: absolute;
                                left: 500px;
                                text: bolder;
                                color: #fff;
                                display: flex;
                                align-items: center;
                                background-color: #ca444a;
                                padding: 20px 20px;
                                border-radius: 20%;
                                margin-top: 10px;

                        ">
                        <i class="fa fa-repeat fa-flip-horizontal" aria-hidden="true"
                           style="
                           font-size: 16px;
                           color: #ffffff;
                        "></i>
                    </button>
                </div>
                <div style="
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        margin: 20px">
                    <button type="button" onclick="incrementClick(n2)" style="
                        position: center;
                        padding: 60px;
                        color: #fff;
                        background-color: #0a6ed5;
                        border-radius: 50%;"
                            id="counter-label02"><script>localStorage.getItem(n2)</script>0</button>
                </div>
            </div>
            <div class="col-md-4 col-xs-6" style="
            border: 2px solid #3579f5;
            ">
                <h1 style="
                        padding: 50px 0px;
                        margin-block-start: 0rem;
                        margin-block-end: 0rem;
                        border-bottom: 2px solid #6e6e6e;
                        display: flex;
                        background-color: #f7f7f7;
                        align-items: center;
                        justify-content: center;
                        border-color: #000;
                    ">الله أكبر</h1>
                <div>
                    <button type="button" onclick="resetCounter()" style="
                                position: absolute;
                                left: 500px;
                                text: bolder;
                                color: #fff;
                                display: flex;
                                align-items: center;
                                background-color: #ca444a;
                                padding: 20px 20px;
                                border-radius: 20%;
                                margin-top: 10px;

                        ">
                        <i class="fa fa-repeat fa-flip-horizontal" aria-hidden="true"
                           style="
                           font-size: 16px;
                           color: #ffffff;
                        "></i>
                    </button>
                </div>
                <div style="
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        margin: 20px">
                    <button type="button" onclick="incrementClick(n3)" style="
                        position: center;
                        padding: 60px;
                        color: #fff;
                        background-color: #0a6ed5;
                        border-radius: 50%;"
                            id="counter-label03"><script>localStorage.getItem(n3)</script>0</button>
                </div>
            </div>
        </div>
    </div>



    <script>

        function clearCounters() {
            localStorage.clear();
            drawCounters();
        }

        function increment(key1) {
            let count = 0;
            try {
                var data1 = JSON.parse(localStorage.getItem(key1))
                if (typeof data1 == "number") {
                    if (data1 > 0) {
                        count = data1;
                    }
                }
            } catch (error) {

            }
            count = count + 1;
            localStorage.setItem(key1, JSON.stringify(count))
            console.log("salam")
            drawCounters();
        }

        const tasabee7 = [
            "سبحان الله",
            "الحمد لله",
            "لا إله إلا الله",
            "الله أكبر",
            "لا حول ولا قوة إلا بالله العلي العظيم",
        ];


        function renderCounter(data) {
            return `
<div class="col-12 col-md-6 col-lg-4 col-xlg-3">
    <div class="card border-primary mb-3">
        <div class="card-header counter-text">${data.title}</div>
        <div class="card-body text-primary">
            <button class="btn btn-danger clear-counter btn-sm" data-id="${data.id}"><i class="fa fa-undo fa-fw fa-lg"></i></button>
            <div class="counter-btn counter-total counter-total-2 " data-id="${data.id}" onclick="increment('${data.id}')">${data.count}</div>
        </div>
    </div>
</div>
`;
        }

        let drawCounters = () => {

            //var section = document.querySelector("#section-counters");
                 //section.innerHTML = ""; // empty this section
            
            for (let i = 0; i < tasabee7.length; i++) {
                const id = "counter" + i;
                const title = tasabee7[i];
                let count = 0;
                try {
                    let data1 = localStorage.getItem(id)
                    let count1 = JSON.parse(data1)
                    if (typeof count1 == "number" && count1 > 0) {
                        count = count1;
                    }
                } catch (error) { }

                const data = { id, title, count }
                const html = renderCounter(data);
                section.innerHTML = section.innerHTML + html;

            }
        }


        let main = () => {
            drawCounters();
        }

        main();
    </script>

</body>

</html>
